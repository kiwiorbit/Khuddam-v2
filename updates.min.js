document.addEventListener("DOMContentLoaded",function(){initNavbar(),initPagination(),initModal()});function initNavbar(){const e=document.getElementById("navbar"),t=document.getElementById("menu-toggle"),n=document.getElementById("close-menu"),o=document.getElementById("mobile-menu");window.addEventListener("scroll",function(){window.scrollY>50?(e.classList.add("bg-primary-black"),e.classList.add("shadow-lg")):(e.classList.remove("bg-primary-black"),e.classList.remove("shadow-lg"))}),t&&n&&o&&(t.addEventListener("click",function(){o.style.display="block",setTimeout(()=>{o.style.opacity="1"},10),document.body.style.overflow="hidden"}),n.addEventListener("click",function(){o.style.opacity="0",setTimeout(()=>{o.style.display="none",document.body.style.overflow="auto"},300)}))}function initPagination(){const e=document.querySelectorAll(".update-card"),t=document.querySelectorAll(".pagination-button"),n=document.querySelector(".prev-button"),o=document.querySelector(".next-button");const a=window.innerWidth<768?6:9;let i=1;const s=Math.ceil(e.length/a);function d(){const n=(i-1)*a,o=n+a;e.forEach((e,t)=>{t>=n&&t<o?e.style.display="block":e.style.display="none"}),t.forEach(e=>{if(!e.classList.contains("prev-button")&&!e.classList.contains("next-button")){const t=parseInt(e.textContent);t===i?(e.classList.add("bg-primary-gold","text-white"),e.classList.remove("bg-gray-200","hover:bg-primary-gold","hover:text-white")):(e.classList.remove("bg-primary-gold","text-white"),e.classList.add("bg-gray-200","hover:bg-primary-gold","hover:text-white"))}}),document.querySelector(".updates-section")?.scrollTo({top:document.querySelector(".updates-section").offsetTop-100,behavior:"smooth"})}d(),t.forEach(e=>{e.addEventListener("click",function(){this.classList.contains("active")||this.classList.contains("prev-button")||this.classList.contains("next-button")||(i=parseInt(this.textContent),d())})}),n&&n.addEventListener("click",function(){i>1&&(i--,d())}),o&&o.addEventListener("click",function(){i<s&&(i++,d())}),window.addEventListener("resize",function(){const e=window.innerWidth<768?6:9;e!==a&&(i=1,d())})}function initModal(){const e=document.getElementById("update-modal"),t=document.getElementById("modal-title"),n=document.getElementById("modal-date"),o=document.getElementById("modal-image"),a=document.getElementById("modal-content"),i=document.querySelector(".modal-backdrop"),s=document.querySelector(".modal-container"),d=document.querySelectorAll(".open-modal-btn"),l=document.querySelectorAll(".modal-close");function c(d){const l=d.dataset.title,c=d.dataset.date,r=d.dataset.image,m=d.dataset.content;t.textContent=l,n.textContent=c,o.src=r,o.alt=l,a.innerHTML=m,e.classList.remove("hidden"),document.body.style.overflow="hidden",setTimeout(()=>{i.classList.add("opacity-100"),s.classList.add("scale-100","opacity-100"),s.classList.remove("scale-95","opacity-0")},10),s.focus()}function r(){i.classList.remove("opacity-100"),s.classList.remove("scale-100","opacity-100"),s.classList.add("scale-95","opacity-0"),setTimeout(()=>{e.classList.add("hidden"),document.body.style.overflow=""},300)}d.forEach(e=>{e.addEventListener("click",function(){const e=this.closest(".update-card");c(e)})}),l.forEach(e=>{e.addEventListener("click",r)}),i.addEventListener("click",function(e){e.target===i&&r()}),document.addEventListener("keydown",function(t){"Escape"===t.key&&!e.classList.contains("hidden")&&r()})}
